!function(){"use strict";var t={7098:function(t,e,i){i.r(e)}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(7098);class n{tolerance={left:.75,right:.5};constructor(t){this.block=t,this.block.classList.contains("wp-block-bechtel-carousel--loaded")||(this.block.classList.add("wp-block-bechtel-carousel--loaded"),this.content=this.block.querySelector(".wp-block-bechtel-carousel__children"),this.controls=this.block.querySelectorAll(".wp-block-bechtel-carousel__control"),this.counters=this.block.querySelectorAll(".wp-block-bechtel-carousel__counter"),this.init(),this.bindEventHandlers())}get prevBtn(){return this.controls[0]}get nextBtn(){return this.controls[1]}get children(){return Array.from(this.content.children)}get numbers(){return Array.from(this.counters).filter((t=>t.classList.contains("wp-block-bechtel-carousel__counter--current")||t.classList.contains("wp-block-bechtel-carousel__counter--total")))}get visibleChildren(){const t=this.content.getBoundingClientRect();return Array.from(this.children).filter((e=>{const i=e.getBoundingClientRect();return i.left+i.width*this.tolerance.left>=t.left&&i.right-i.width*this.tolerance.right<=t.right}))}getCounter(t){return Array.from(this.counters).filter((e=>e.classList.contains(`wp-block-bechtel-carousel__counter--${t}`)))[0]}init(){this.updateNumbers(),this.updateControls()}bindEventHandlers(){this.controls.forEach((t=>t.addEventListener("click",this.handleControlClick.bind(this)))),this.content.addEventListener("scroll",(()=>{this.updateNumbers(),this.updateControls(),this.checkMediaEdges()})),window.addEventListener("resize",(()=>{this.updateNumbers(),this.updateControls(),this.checkMediaEdges()}))}updateNumbers(){const t=this.visibleChildren[0],e=this.visibleChildren[this.visibleChildren.length-1],i=this.children.indexOf(t)+1,n=this.children.indexOf(e)+1;this.getCounter("current").innerText=i.toString(),this.getCounter("total").innerText=n.toString(),this.getCounter("dash").style.display=i==n?"none":"inline",this.getCounter("total").style.display=i==n?"none":"inline",this.updateControls()}handleControlClick(t){t.preventDefault();const e=t.currentTarget==this.prevBtn,i=e?this.visibleChildren[0].previousElementSibling:this.visibleChildren[this.visibleChildren.length-1].nextElementSibling;e&&!i&&this.children.indexOf(0===this.visibleChildren[0])?this.content.scrollTo({left:0,behavior:"smooth"}):e||i||this.children.indexOf(this.visibleChildren[this.visibleChildren.length-1])!==this.children.length-1?i&&i.scrollIntoView({block:"nearest",inline:e?"start":"end",behavior:"smooth"}):this.content.scrollTo({left:this.content.scrollWidth,behavior:"smooth"})}updateControls(){const t=this.content.scrollWidth-this.content.scrollLeft-this.content.clientWidth;0==this.content.scrollLeft?this.prevBtn.setAttribute("disabled","disabled"):this.prevBtn.removeAttribute("disabled"),0==t?this.nextBtn.setAttribute("disabled","disabled"):this.nextBtn.removeAttribute("disabled")}checkMediaEdges(){this.children.forEach((t=>t?.checkEdges?.()))}}document.querySelectorAll(".wp-block-bechtel-carousel").forEach((t=>new n(t)))}();